<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Link Proxier</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 20px;
        }
        .subtitle {
            color: #666;
            text-align: center;
            margin-bottom: 30px;
            font-size: 1rem;
        }
        .input-group {
            display: flex;
            margin-bottom: 20px;
        }
        input[type="text"], input[type="number"] {
            flex: 1;
            padding: 12px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 4px 0 0 4px;
            outline: none;
        }
        button {
            padding: 12px 20px;
            background-color: #4285f4;
            color: white;
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #3367d6;
        }
        .proxy-options {
            margin-bottom: 20px;
        }
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            margin-bottom: 10px;
        }
        .history {
            margin-top: 30px;
        }
        .history h2 {
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        .history-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .history-item:hover {
            background-color: #f9f9f9;
        }
        .history-item a {
            color: #4285f4;
            text-decoration: none;
            max-width: 80%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .history-item a:hover {
            text-decoration: underline;
        }
        .timestamp {
            color: #999;
            font-size: 12px;
        }
        .info-box {
            background-color: #e8f4fc;
            border-left: 4px solid #4285f4;
            padding: 12px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        .warning-box {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
            flex-wrap: wrap;
        }
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 4px 4px 0 0;
            margin-right: 5px;
            margin-bottom: 5px;
        }
        .tab.active {
            background-color: white;
            border-bottom: 1px solid white;
            margin-bottom: -1px;
        }
        #iframe-container {
            margin-top: 20px;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 4px;
        }
        #embedded-iframe {
            width: 100%;
            height: 500px;
            border: 1px solid #ddd;
        }
        .storage-warning {
            background-color: #ffefef;
            border-left: 4px solid #ff4444;
            padding: 12px;
            margin-bottom: 20px;
            border-radius: 4px;
            display: none;
        }
        .options-container {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        .option-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        .checkbox-group input {
            margin-right: 5px;
        }
        .advanced-toggle {
            color: #4285f4;
            text-decoration: underline;
            cursor: pointer;
            margin: 10px 0;
            display: inline-block;
        }
        .method-description {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
            margin-bottom: 10px;
        }
        .proxy-category {
            margin-bottom: 20px;
        }
        .proxy-category h3 {
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        .url-encoder {
            margin-top: 15px;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 4px;
        }
        .encoder-output {
            padding: 10px;
            border: 1px solid #ddd;
            background-color: white;
            border-radius: 4px;
            word-break: break-all;
            margin-top: 10px;
        }
        .copy-btn {
            padding: 5px 10px;
            background-color: #4285f4;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-top: 5px;
        }
        .copy-btn:hover {
            background-color: #3367d6;
        }
        .country-select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
        }
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        .delete-btn {
            background-color: #ff4444;
            padding: 3px 8px;
            border-radius: 4px;
            color: white;
            cursor: pointer;
            font-size: 12px;
        }
        .delete-btn:hover {
            background-color: #cc0000;
        }
        .batch-controls {
            margin-top: 20px;
            padding: 15px;
            background-color: #f0f8ff;
            border-radius: 4px;
            border: 1px solid #cce5ff;
        }
        .batch-input {
            width: 100%;
            height: 100px;
            margin-bottom: 10px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .theme-switch {
            position: absolute;
            right: 20px;
            top: 20px;
            display: flex;
            align-items: center;
        }
        .theme-switch label {
            margin-right: 10px;
            margin-bottom: 0;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #2196F3;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .dark-theme {
            background-color: #222;
            color: #eee;
        }
        .dark-theme .container {
            background-color: #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        .dark-theme h1, .dark-theme h2, .dark-theme h3, .dark-theme h4 {
            color: #fff;
        }
        .dark-theme .tab {
            background-color: #444;
            border-color: #555;
            color: #eee;
        }
        .dark-theme .tab.active {
            background-color: #333;
            border-bottom-color: #333;
        }
        .dark-theme input[type="text"], .dark-theme input[type="number"], .dark-theme select, .dark-theme textarea {
            background-color: #444;
            border-color: #555;
            color: #eee;
        }
        .dark-theme .history-item {
            border-color: #555;
        }
        .dark-theme .history-item:hover {
            background-color: #444;
        }
        .dark-theme .options-container, .dark-theme .url-encoder, .dark-theme .encoder-output {
            background-color: #444;
            border-color: #555;
        }
        .qr-container {
            display: none;
            margin-top: 20px;
            text-align: center;
        }
        #qr-code {
            margin: 0 auto;
            padding: 10px;
            background-color: white;
            border-radius: 4px;
        }
        .proxy-stats {
            margin-top: 20px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 4px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        .stat-card {
            padding: 10px;
            background-color: white;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            text-align: center;
        }
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #4285f4;
        }
        .stat-label {
            font-size: 12px;
            color: #666;
        }
        .save-preset-container {
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .save-preset-container input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .presets-container {
            margin-top: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        .preset-tag {
            padding: 5px 10px;
            background-color: #e8f0fe;
            border: 1px solid #4285f4;
            border-radius: 15px;
            font-size: 14px;
            cursor: pointer;
        }
        .preset-tag:hover {
            background-color: #d2e3fc;
        }
        .preset-delete {
            margin-left: 5px;
            color: #666;
            cursor: pointer;
        }
        .preset-delete:hover {
            color: #ff4444;
        }
        .anonymity-meter {
            margin-top: 10px;
            width: 100%;
            height: 10px;
            background-color: #ddd;
            border-radius: 5px;
            overflow: hidden;
        }
        .anonymity-level {
            height: 100%;
            background: linear-gradient(to right, #ff4444, #ffbb33, #00C851);
            transition: width 0.3s ease;
        }
        .anonymity-label {
            margin-top: 5px;
            font-size: 12px;
            text-align: right;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="theme-switch">
        <label for="theme-toggle">Dark Mode</label>
        <label class="switch">
            <input type="checkbox" id="theme-toggle">
            <span class="slider"></span>
        </label>
    </div>

    <div class="container">
        <h1>Advanced Link Proxier</h1>
        <div class="subtitle">Access websites through various proxy services and cloaking methods</div>
        
        <div class="info-box">
            This tool allows you to visit websites through multiple proxy services, cloaking methods, and interstitial services. Enter a URL below and choose your preferred method.
        </div>
        
        <div class="warning-box">
            <strong>Note:</strong> Some proxy services may have usage limitations or require accounts. This tool is for educational purposes only.
        </div>
        
        <div class="storage-warning" id="storage-warning">
            LocalStorage is not available in this environment. History will not be saved between sessions.
        </div>
        
        <div class="tabs">
            <div class="tab active" data-tab="web-proxies">Web Proxies</div>
            <div class="tab" data-tab="archive-proxies">Archive Services</div>
            <div class="tab" data-tab="translate-proxies">Translation Proxies</div>
            <div class="tab" data-tab="cloaking">Cloaking Methods</div>
            <div class="tab" data-tab="specialized">Specialized Proxies</div>
            <div class="tab" data-tab="url-tools">URL Tools</div>
            <div class="tab" data-tab="batch-proxies">Batch Mode</div>
            <div class="tab" data-tab="presets">Presets</div>
        </div>
        
        <div id="web-proxies-tab" class="tab-content">
            <div class="proxy-category">
                <h3>General Web Proxies</h3>
                <div class="proxy-options">
                    <label for="web-proxy-select">Select Web Proxy Service:</label>
                    <select id="web-proxy-select">
                        <option value="https://www.proxysite.com/process.php?d=">ProxySite</option>
                        <option value="https://www.croxyproxy.com/process.php?d=">CroxyProxy</option>
                        <option value="https://www.hidester.com/proxy/proxy.php?u=">Hidester</option>
                        <option value="https://www.hidemyass-freeproxy.com/proxy/en-us/">HideMyAss</option>
                        <option value="https://www.filterbypass.me/?url=">FilterBypass</option>
                        <option value="https://proxy-us.hideproxy.me/includes/process.php?action=update&q=">HideProxy</option>
                        <option value="https://www.blockaway.net/index.php?q=">BlockAway</option>
                        <option value="https://www.proxysite.app/">ProxySite App</option>
                        <option value="https://proxybrowser.org/browse.php?u=">ProxyBrowser</option>
                        <option value="https://proxy-us.hideproxy.me/index.php?q=">US Proxy</option>
                        <option value="https://www.vpnbook.com/webproxy?url=">VPNBook Proxy</option>
                        <option value="https://www.megaproxy.com/freesurf/">MegaProxy</option>
                        <option value="https://kproxy.com/">KProxy</option>
                        <option value="https://www.4everproxy.com/proxy?u=">4Ever Proxy</option>
                        <option value="https://whoer.net/webproxy?url=">Whoer.net Proxy</option>
                        <option value="https://www.anonymouse.org/cgi-bin/anon-www.cgi/">AnonyMouse</option>
                        <option value="https://webproxy.to/">WebProxy.to</option>
                        <option value="https://www.surf-proxy.com/">Surf Proxy</option>
                        <option value="https://ninjaweb.xyz/">Ninja Web</option>
                        <option value="https://www.zalmos.com/">Zalmos Web Proxy</option>
                        <option value="custom">Custom Proxy (Enter Below)</option>
                    </select>
                    
                    <div id="custom-proxy-container" style="display: none;">
                        <input type="text" id="custom-proxy" placeholder="Enter custom proxy URL" value="">
                    </div>
                </div>
            </div>
            
            <div class="proxy-category">
                <h3>Country-Specific Proxies</h3>
                <div class="proxy-options">
                    <label for="country-proxy-select">Select Country:</label>
                    <select id="country-proxy-select" class="country-select">
                        <option value="us">United States</option>
                        <option value="uk">United Kingdom</option>
                        <option value="ca">Canada</option>
                        <option value="de">Germany</option>
                        <option value="fr">France</option>
                        <option value="jp">Japan</option>
                        <option value="kr">South Korea</option>
                        <option value="nl">Netherlands</option>
                        <option value="sg">Singapore</option>
                        <option value="au">Australia</option>
                        <option value="it">Italy</option>
                        <option value="es">Spain</option>
                        <option value="ru">Russia</option>
                        <option value="br">Brazil</option>
                        <option value="in">India</option>
                    </select>
                    
                    <div class="method-description">
                        This will route your connection through servers in the selected country using Hide.me's country-specific proxies.
                    </div>
                </div>
            </div>
            
            <div class="options-container" id="web-proxy-options">
                <h4>Advanced Options</h4>
                <div class="option-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="remove-cookies" checked>
                        <label for="remove-cookies">Remove Cookies</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="remove-scripts" checked>
                        <label for="remove-scripts">Remove Scripts</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="encrypt-url" checked>
                        <label for="encrypt-url">Encrypt URL</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="allow-redirects">
                        <label for="allow-redirects">Allow Redirects</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="use-https" checked>
                        <label for="use-https">Force HTTPS</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="hide-referer" checked>
                        <label for="hide-referer">Hide Referer</label>
                    </div>
                </div>
                
                <div class="anonymity-meter-container">
                    <label>Estimated Anonymity Level:</label>
                    <div class="anonymity-meter">
                        <div class="anonymity-level" style="width: 70%;"></div>
                    </div>
                    <div class="anonymity-label">Medium</div>
                </div>
            </div>
        </div>
        
        <div id="archive-proxies-tab" class="tab-content" style="display: none;">
            <div class="proxy-options">
                <label for="archive-proxy-select">Select Archive Service:</label>
                <select id="archive-proxy-select">
                    <option value="https://web.archive.org/web/">Wayback Machine</option>
                    <option value="https://archive.ph/">Archive.today</option>
                    <option value="https://archive.is/">Archive.is</option>
                    <option value="https://webcache.googleusercontent.com/search?q=cache:">Google Cache</option>
                    <option value="https://cc.bingj.com/cache.aspx?q=">Bing Cache</option>
                    <option value="https://cachedview.nl/?q=">CachedView</option>
                    <option value="https://archive.wikiwix.com/cache/index2.php?url=">Wikiwix Cache</option>
                    <option value="https://timetravel.mementoweb.org/memento/">Memento Time Travel</option>
                    <option value="https://archive.md/">Archive.md</option>
                    <option value="https://en.wikipedia.org/w/index.php?search=">Wikipedia Search Cache</option>
                    <option value="https://perma.cc/create/?url=">Perma.cc</option>
                    <option value="https://ghostarchive.org/search?term=">GhostArchive</option>
                    <option value="https://web.archive.org/cdx/search/cdx?url=">Wayback CDX Server</option>
                    <option value="https://conifer.rhizome.org/">Conifer Web Archive</option>
                    <option value="https://arquivo.pt/wayback/">Arquivo.pt (Portuguese Web Archive)</option>
                </select>
                
                <div class="options-container">
                    <h4>Archive Options</h4>
                    <div class="option-group">
                        <label for="archive-timestamp">Wayback Machine Timestamp (YYYYMMDD):</label>
                        <input type="text" id="archive-timestamp" placeholder="e.g., 20210101 or leave empty for latest" value="">
                    </div>
                    
                    <div class="option-group">
                        <label for="archive-range">Date Range:</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="date" id="archive-start-date">
                            <span>to</span>
                            <input type="date" id="archive-end-date">
                        </div>
                    </div>
                    
                    <div class="checkbox-group">
                        <input type="checkbox" id="archive-screenshot">
                        <label for="archive-screenshot">Use Screenshot (if available)</label>
                    </div>
                </div>
                
                <div class="method-description">
                    Archive services provide cached versions of websites, allowing you to view content that may have been changed or removed.
                </div>
            </div>
        </div>
        
        <div id="translate-proxies-tab" class="tab-content" style="display: none;">
            <div class="proxy-options">
                <label for="translate-proxy-select">Select Translation Service:</label>
                <select id="translate-proxy-select">
                    <option value="https://translate.google.com/translate?sl=auto&tl=en&u=">Google Translate (to English)</option>
                    <option value="https://translate.google.com/translate?sl=auto&tl=es&u=">Google Translate (to Spanish)</option>
                    <option value="https://translate.google.com/translate?sl=auto&tl=fr&u=">Google Translate (to French)</option>
                    <option value="https://translate.google.com/translate?sl=auto&tl=de&u=">Google Translate (to German)</option>
                    <option value="https://translate.google.com/translate?sl=auto&tl=ja&u=">Google Translate (to Japanese)</option>
                    <option value="https://translate.google.com/translate?sl=auto&tl=zh-CN&u=">Google Translate (to Chinese)</option>
                    <option value="https://translate.google.com/translate?sl=auto&tl=ru&u=">Google Translate (to Russian)</option>
                    <option value="https://translate.google.com/translate?sl=auto&tl=ar&u=">Google Translate (to Arabic)</option>
                    <option value="https://translate.google.com/translate?sl=auto&tl=hi&u=">Google Translate (to Hindi)</option>
                    <option value="https://www.microsofttranslator.com/bv.aspx?from=auto&to=en&a=">Bing Translator (to English)</option>
                    <option value="https://www.deepl.com/translator#auto/en/">DeepL Translator</option>
                    <option value="https://translate.yandex.com/translate?lang=en-auto&url=">Yandex Translator</option>
                    <option value="https://www.translatetheweb.com/?from=&to=en&a=">Microsoft Translator</option>
                    <option value="https://translate.systran.net/translationTools/text?source=auto&target=en&url=">SYSTRAN Translator</option>
                    <option value="custom-translate">Custom Translation (Select Languages Below)</option>
                </select>
                
                <div id="custom-translate-container" style="display: none;">
                    <div class="option-group">
                        <label for="source-lang">Source Language:</label>
                        <select id="source-lang">
                            <option value="auto">Auto-detect</option>
                            <option value="en">English</option>
                            <option value="es">Spanish</option>
                            <option value="fr">French</option>
                            <option value="de">German</option>
                            <option value="it">Italian</option>
                            <option value="pt">Portuguese</option>
                            <option value="ru">Russian</option>
                            <option value="ja">Japanese</option>
                            <option value="ko">Korean</option>
                            <option value="zh-CN">Chinese (Simplified)</option>
                            <option value="ar">Arabic</option>
                            <option value="hi">Hindi</option>
                            <option value="tr">Turkish</option>
                            <option value="nl">Dutch</option>
                            <option value="vi">Vietnamese</option>
                            <option value="pl">Polish</option>
                            <option value="sv">Swedish</option>
                            <option value="fi">Finnish</option>
                            <option value="no">Norwegian</option>
                            <option value="da">Danish</option>
                            <option value="cs">Czech</option>
                            <option value="el">Greek</option>
                            <option value="he">Hebrew</option>
                            <option value="id">Indonesian</option>
                            <option value="th">Thai</option>
                        </select>
                    </div>
                    <div class="option-group">
                        <label for="target-lang">Target Language:</label>
                        <select id="target-lang">
                            <option value="en">English</option>
                            <option value="es">Spanish</option>
                            <option value="fr">French</option>
                            <option value="de">German</option>
                            <option value="it">Italian</option>
                            <option value="pt">Portuguese</option>
                            <option value="ru">Russian</option>
                            <option value="ja">Japanese</option>
                            <option value="ko">Korean</option>
                            <option value="zh-CN">Chinese (Simplified)</option>
                            <option value="ar">Arabic</option>
                            <option value="hi">Hindi</option>
                            <option value="tr">Turkish</option>
                            <option value="nl">Dutch</option>
                            <option value="vi">Vietnamese</option>
                            <option value="pl">Polish</option>
                            <option value="sv">Swedish</option>
                            <option value="fi">Finnish</option>
                            <option value="no">Norwegian</option>
                            <option value="da">Danish</option>
                            <option value="cs">Czech</option>
                            <option value="el">Greek</option>
                            <option value="he">Hebrew</option>
                            <option value="id">Indonesian</option>
                            <option value="th">Thai</option>
                        </select>
                    </div>
                </div>
                
                <div class="method-description">
                    Translation proxies can bypass some content restrictions by loading the page through a translation service.
                </div>
            </div>
        </div>
        
        <div id="cloaking-tab" class="tab-content" style="display: none;">
            <div class="proxy-options">
                <label for="cloaking-select">Select Cloaking Method:</label>
                <select id="cloaking-select">
                    <option value="about:blank">about:blank Direct Navigation</option>
                    <option value="document-write">Document.write Method</option>
                    <option value="location-replace">Location.replace Method</option>
                    <option value="iframe-embed">Simple iFrame Embed</option>
                    <option value="data-url">Data URL Method</option>
                    <option value="blob-url">Blob URL Method</option>
                    <option value="window-open">Window.open with Parameters</option>
                    <option value="double-about">Double about:blank<option value="double-about">Double about:blank</option>
                    <option value="parent-spoof">Parent Window Spoofing</option>
                    <option value="history-api">History API Cloaking</option>
                    <option value="worker-proxy">Web Worker Proxy</option>
                    <option value="service-worker">Service Worker Method</option>
                    <option value="sandboxed-iframe">Sandboxed iFrame</option>
                    <option value="custom-cloaking">Custom Cloaking (Advanced)</option>
                </select>
                
                <div id="custom-cloaking-container" style="display: none;">
                    <textarea id="custom-cloaking-code" placeholder="Enter custom JavaScript cloaking code here..." rows="5" style="width: 100%; margin-top: 10px;"></textarea>
                </div>
                
                <div class="options-container">
                    <h4>Cloaking Options</h4>
                    <div class="option-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="mask-title">
                            <label for="mask-title">Mask Page Title</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="mask-favicon">
                            <label for="mask-favicon">Mask Page Favicon</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="hide-from-history">
                            <label for="hide-from-history">Hide from Browser History</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="disable-context-menu">
                            <label for="disable-context-menu">Disable Context Menu</label>
                        </div>
                    </div>
                    
                    <div class="option-group">
                        <label for="custom-title">Custom Page Title:</label>
                        <input type="text" id="custom-title" placeholder="Enter a custom title for the page">
                    </div>
                    
                    <div class="option-group">
                        <label for="custom-favicon">Custom Favicon URL:</label>
                        <input type="text" id="custom-favicon" placeholder="Enter URL for custom favicon">
                    </div>
                </div>
                
                <div class="method-description">
                    Cloaking methods help hide page navigation by using browser features to mask actual site access. Some methods may be blocked by browser security settings.
                </div>
            </div>
        </div>
        
        <div id="specialized-tab" class="tab-content" style="display: none;">
            <div class="proxy-options">
                <label for="specialized-proxy-select">Select Specialized Proxy:</label>
                <select id="specialized-proxy-select">
                    <option value="https://www.printfriendly.com/print?url=">PrintFriendly (Text Only)</option>
                    <option value="https://outline.com/">Outline Reader</option>
                    <option value="https://reader.miniflux.app/pdf?url=">PDF Converter</option>
                    <option value="https://textance.herokuapp.com/text/">Textance (Text Only)</option>
                    <option value="https://www.textise.net/showText.aspx?strURL=">Textise</option>
                    <option value="https://archive.org/download/archiveteam_urls?url=">Single-File Save</option>
                    <option value="https://12ft.io/">12ft.io Paywall Bypass</option>
                    <option value="https://www.reader-view.com/?url=">Reader View</option>
                    <option value="https://proxy.toolforge.org/en.wikipedia.org/wiki/Special:Search?search=">Wikipedia Proxy</option>
                    <option value="https://nitter.net/">Nitter (Twitter Alternative)</option>
                    <option value="https://invidious.io/">Invidious (YouTube Alternative)</option>
                    <option value="https://bibliogram.art/">Bibliogram (Instagram Alternative)</option>
                    <option value="https://teddit.net/">Teddit (Reddit Alternative)</option>
                    <option value="https://farside.link/">Farside Link (All Alternatives)</option>
                    <option value="https://archive.org/details/webwidecrawl?url=">Wayback All Versions</option>
                </select>
                
                <div class="method-description">
                    Specialized proxies provide specific services like text-only views, paywall bypassing, or privacy-focused frontend alternatives to social media.
                </div>
            </div>
        </div>
        
        <div id="url-tools-tab" class="tab-content" style="display: none;">
            <div class="url-encoder">
                <h3>URL Encoding/Decoding</h3>
                <div class="input-group">
                    <input type="text" id="url-to-encode" placeholder="Enter URL to encode or decode">
                    <button id="encode-url-btn">Encode</button>
                    <button id="decode-url-btn">Decode</button>
                </div>
                <div class="encoder-output" id="encoded-result">
                    Results will appear here...
                </div>
                <button class="copy-btn" id="copy-encoded">Copy to Clipboard</button>
                
                <h3 style="margin-top: 20px;">Base64 Encoding/Decoding</h3>
                <div class="input-group">
                    <input type="text" id="base64-input" placeholder="Enter text for Base64 encoding/decoding">
                    <button id="encode-base64-btn">Encode</button>
                    <button id="decode-base64-btn">Decode</button>
                </div>
                <div class="encoder-output" id="base64-result">
                    Results will appear here...
                </div>
                <button class="copy-btn" id="copy-base64">Copy to Clipboard</button>
                
                <h3 style="margin-top: 20px;">URL QR Code Generator</h3>
                <div class="input-group">
                    <input type="text" id="qr-url" placeholder="Enter URL for QR code generation">
                    <button id="generate-qr-btn">Generate QR</button>
                </div>
                <div class="qr-container" id="qr-container">
                    <div id="qr-code"></div>
                    <button class="copy-btn" id="download-qr">Download QR Code</button>
                </div>
                
                <h3 style="margin-top: 20px;">URL Shortener</h3>
                <div class="input-group">
                    <input type="text" id="url-to-shorten" placeholder="Enter URL to shorten">
                    <button id="shorten-url-btn">Shorten URL</button>
                </div>
                <div class="encoder-output" id="shortened-result">
                    Shortened URL will appear here...
                </div>
                <button class="copy-btn" id="copy-shortened">Copy to Clipboard</button>
                
                <h3 style="margin-top: 20px;">Domain Information</h3>
                <div class="input-group">
                    <input type="text" id="domain-info-input" placeholder="Enter domain name">
                    <button id="get-domain-info-btn">Get Info</button>
                </div>
                <div class="encoder-output" id="domain-info-result">
                    Domain information will appear here...
                </div>
            </div>
        </div>
        
        <div id="batch-proxies-tab" class="tab-content" style="display: none;">
            <div class="batch-controls">
                <h3>Batch URL Processing</h3>
                <p>Enter multiple URLs (one per line) to process them all at once:</p>
                <textarea class="batch-input" id="batch-urls" placeholder="https://example.com
https://example.org
https://example.net"></textarea>
                
                <label for="batch-proxy-select">Select Proxy Method:</label>
                <select id="batch-proxy-select">
                    <option value="web">Web Proxy</option>
                    <option value="archive">Archive Service</option>
                    <option value="translate">Translation Proxy</option>
                    <option value="specialized">Specialized Proxy</option>
                </select>
                
                <div id="batch-specific-options" style="margin-top: 10px;">
                    <!-- Dynamic options based on selected batch proxy type -->
                </div>
                
                <button id="process-batch-btn" style="width: 100%; margin-top: 15px; padding: 10px;">Process All URLs</button>
                
                <div class="encoder-output" id="batch-results" style="margin-top: 15px; max-height: 300px; overflow-y: auto;">
                    Results will appear here...
                </div>
                <button class="copy-btn" id="copy-batch-results">Copy All Results</button>
                <button class="copy-btn" id="export-batch-results">Export as CSV</button>
            </div>
        </div>
        
        <div id="presets-tab" class="tab-content" style="display: none;">
            <h3>Saved Proxy Presets</h3>
            <p>Create and save your favorite proxy configurations for quick access.</p>
            
            <div class="presets-container" id="preset-list">
                <!-- Preset tags will be dynamically inserted here -->
                <div class="preset-tag">Wayback Machine<span class="preset-delete">×</span></div>
                <div class="preset-tag">Google Translate (EN)<span class="preset-delete">×</span></div>
                <div class="preset-tag">Text Only View<span class="preset-delete">×</span></div>
                <div class="preset-tag">US Proxy + No Scripts<span class="preset-delete">×</span></div>
                <div class="preset-tag">Archive.today<span class="preset-delete">×</span></div>
            </div>
            
            <div class="save-preset-container">
                <input type="text" id="preset-name" placeholder="Enter preset name">
                <button id="save-preset-btn">Save Current Settings as Preset</button>
            </div>
            
            <div class="proxy-stats">
                <h3>Your Proxy Usage Statistics</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">158</div>
                        <div class="stat-label">Total URLs Proxied</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">27</div>
                        <div class="stat-label">Web Proxies</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">42</div>
                        <div class="stat-label">Archive Services</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">31</div>
                        <div class="stat-label">Translation Proxies</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">15</div>
                        <div class="stat-label">Specialized Proxies</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">43</div>
                        <div class="stat-label">Cloaking Methods</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="input-group" style="margin-top: 20px;">
            <input type="text" id="url-input" placeholder="Enter URL to access through proxy (e.g., https://example.com)">
            <button id="proxy-btn">Proxy It!</button>
        </div>
        
        <div class="checkbox-group" style="margin-top: 10px;">
            <input type="checkbox" id="open-new-tab" checked>
            <label for="open-new-tab">Open in New Tab</label>
            <input type="checkbox" id="save-to-history" style="margin-left: 20px;" checked>
            <label for="save-to-history">Save to History</label>
        </div>
        
        <div id="iframe-container" style="display: none;">
            <h3>Preview (may not work for all proxy methods)</h3>
            <iframe id="embedded-iframe" sandbox="allow-same-origin allow-scripts allow-forms" title="Proxied Content"></iframe>
        </div>
        
        <div class="history">
            <h2>Recent Proxy History</h2>
            <div id="history-list">
                <!-- History items will be dynamically inserted here -->
            </div>
            <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                <button id="clear-history" class="delete-btn">Clear All History</button>
                <button id="export-history" class="copy-btn">Export History</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tab switching
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Hide all tab content
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.style.display = 'none';
                    });
                    
                    // Show the selected tab content
                    const tabId = this.getAttribute('data-tab') + '-tab';
                    document.getElementById(tabId).style.display = 'block';
                });
            });
            
            // Check if localStorage is available
            let storageAvailable = false;
            try {
                localStorage.setItem('test', 'test');
                localStorage.removeItem('test');
                storageAvailable = true;
            } catch(e) {
                document.getElementById('storage-warning').style.display = 'block';
            }
            
            // Web proxy custom option
            const webProxySelect = document.getElementById('web-proxy-select');
            const customProxyContainer = document.getElementById('custom-proxy-container');
            
            webProxySelect.addEventListener('change', function() {
                if (this.value === 'custom') {
                    customProxyContainer.style.display = 'block';
                } else {
                    customProxyContainer.style.display = 'none';
                }
            });
            
            // Translation proxy custom option
            const translateProxySelect = document.getElementById('translate-proxy-select');
            const customTranslateContainer = document.getElementById('custom-translate-container');
            
            translateProxySelect.addEventListener('change', function() {
                if (this.value === 'custom-translate') {
                    customTranslateContainer.style.display = 'block';
                } else {
                    customTranslateContainer.style.display = 'none';
                }
            });
            
            // Cloaking custom option
            const cloakingSelect = document.getElementById('cloaking-select');
            const customCloakingContainer = document.getElementById('custom-cloaking-container');
            
            cloakingSelect.addEventListener('change', function() {
                if (this.value === 'custom-cloaking') {
                    customCloakingContainer.style.display = 'block';
                } else {
                    customCloakingContainer.style.display = 'none';
                }
            });
            
            // Proxy button click handler
            const proxyBtn = document.getElementById('proxy-btn');
            const urlInput = document.getElementById('url-input');
            
            proxyBtn.addEventListener('click', function() {
                let url = urlInput.value.trim();
                
                // Basic URL validation
                if (!url) {
                    alert('Please enter a valid URL');
                    return;
                }
                
                // Add http:// if no protocol specified
                if (!url.startsWith('http://') && !url.startsWith('https://')) {
                    url = 'https://' + url;
                    urlInput.value = url;
                }
                
                // Get the active tab
                const activeTab = document.querySelector('.tab.active').getAttribute('data-tab');
                let finalUrl = '';
                
                // Build URL based on selected proxy method
                switch (activeTab) {
                    case 'web-proxies':
                        const webProxyValue = webProxySelect.value;
                        if (webProxyValue === 'custom') {
                            const customProxy = document.getElementById('custom-proxy').value;
                            finalUrl = customProxy + encodeURIComponent(url);
                        } else {
                            finalUrl = webProxyValue + encodeURIComponent(url);
                        }
                        break;
                        
                    case 'archive-proxies':
                        const archiveProxyValue = document.getElementById('archive-proxy-select').value;
                        const timestamp = document.getElementById('archive-timestamp').value;
                        
                        if (archiveProxyValue === 'https://web.archive.org/web/' && timestamp) {
                            finalUrl = `${archiveProxyValue}${timestamp}/${url}`;
                        } else {
                            finalUrl = archiveProxyValue + encodeURIComponent(url);
                        }
                        break;
                        
                    case 'translate-proxies':
                        const translateValue = translateProxySelect.value;
                        if (translateValue === 'custom-translate') {
                            const sourceLang = document.getElementById('source-lang').value;
                            const targetLang = document.getElementById('target-lang').value;
                            finalUrl = `https://translate.google.com/translate?sl=${sourceLang}&tl=${targetLang}&u=${encodeURIComponent(url)}`;
                        } else {
                            finalUrl = translateValue + encodeURIComponent(url);
                        }
                        break;
                        
                    case 'cloaking':
                        const cloakingValue = cloakingSelect.value;
                        // For cloaking methods we'll use a different approach
                        if (cloakingValue === 'about:blank') {
                            // Creating an HTML page that opens the URL in about:blank
                            const htmlContent = `
                                <html><head><title>Loading...</title></head>
                                <body>
                                    <script>
                                        window.open('${url}', '_blank', 'noopener,noreferrer');
                                        window.close();
                                    </script>
                                    <p>Opening ${url} in about:blank...</p>
                                </body></html>
                            `;
                            
                            // Create a blob and generate a URL for it
                            const blob = new Blob([htmlContent], {type: 'text/html'});
                            finalUrl = URL.createObjectURL(blob);
                        } else if (cloakingValue === 'document-write') {
                            // Use document.write method
                            const htmlContent = `
                                <html><head><title>Loading...</title></head>
                                <body>
                                    <script>
                                        document.write('<iframe src="${url}" style="position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden; z-index:999999;"></iframe>');
                                    </script>
                                </body></html>
                            `;
                            
                            const blob = new Blob([htmlContent], {type: 'text/html'});
                            finalUrl = URL.createObjectURL(blob);
                        } else if (cloakingValue === 'custom-cloaking') {
                            const customCode = document.getElementById('custom-cloaking-code').value;
                            const htmlContent = `
                                <html><head><title>Custom Cloaking</title></head>
                                <body>
                                    <script>
                                        const targetUrl = '${url}';
                                        ${customCode}
                                    </script>
                                </body></html>
                            `;
                            
                            const blob = new Blob([htmlContent], {type: 'text/html'});
                            finalUrl = URL.createObjectURL(blob);
                        } else {
                            // For other cloaking methods, use the URL directly
                            // This is simplified; in a real implementation each method would have specific code
                            finalUrl = url;
                        }
                        break;
                        
                    case 'specialized':
                        const specializedValue = document.getElementById('specialized-proxy-select').value;
                        finalUrl = specializedValue + encodeURIComponent(url);
                        break;
                        
                    default:
                        finalUrl = url;
                }
                
                // Save to history if checked
                if (document.getElementById('save-to-history').checked && storageAvailable) {
                    saveToHistory(url, finalUrl, activeTab);
                }
                
                // Open in new tab if checked, otherwise show in iframe
                if (document.getElementById('open-new-tab').checked) {
                    window.open(finalUrl, '_blank');
                } else {
                    document.getElementById('iframe-container').style.display = 'block';
                    document.getElementById('embedded-iframe').src = finalUrl;
                }
            });
            
            // Save URL to history
            function saveToHistory(originalUrl, proxiedUrl, proxyType) {
                let history = [];
                
                if (storageAvailable) {
                    const storedHistory = localStorage.getItem('proxyHistory');
                    if (storedHistory) {
                        history = JSON.parse(storedHistory);
                    }
                }
                
                // Add new entry to history
                history.unshift({
                    original: originalUrl,
                    proxied: proxiedUrl,
                    type: proxyType,
                    timestamp: new Date().toISOString()
                });
                
                // Limit history to 50 items
                if (history.length > 50) {
                    history = history.slice(0, 50);
                }
                
                if (storageAvailable) {
                    localStorage.setItem('proxyHistory', JSON.stringify(history));
                }
                
                // Update history display
                displayHistory(history);
            }
            
            // Display history items
            function displayHistory(history) {
                const historyList = document.getElementById('history-list');
                historyList.innerHTML = '';
                
                if (history.length === 0) {
                    historyList.innerHTML = '<p>No history items yet.</p>';
                    return;
                }
                
                history.forEach((item, index) => {
                    const historyItem = document.createElement('div');
                    historyItem.className = 'history-item';
                    
                    // Format the timestamp
                    const date = new Date(item.timestamp);
                    const formattedDate = `${date.toLocaleDateString()} ${date.toLocaleTimeString()}`;
                    
                    // Create proxy type label
                    let proxyTypeLabel = '';
                    switch (item.type) {
                        case 'web-proxies': proxyTypeLabel = 'Web Proxy'; break;
                        case 'archive-proxies': proxyTypeLabel = 'Archive'; break;
                        case 'translate-proxies': proxyTypeLabel = 'Translate'; break;
                        case 'cloaking': proxyTypeLabel = 'Cloaking'; break;
                        case 'specialized': proxyTypeLabel = 'Specialized'; break;
                        default: proxyTypeLabel = 'Other';
                    }
                    
                    historyItem.innerHTML = `
                        <div>
                            <span style="color: #666; font-size: 12px;">[${proxyTypeLabel}]</span>
                            <a href="${item.proxied}" target="_blank" title="Open proxied URL: ${item.original}">${item.original}</a>
                        </div>
                        <div class="action-buttons">
                            <span class="timestamp">${formattedDate}</span>
                            <span class="delete-btn" data-index="${index}">Delete</span>
                        </div>
                    `;
                    
                    historyList.appendChild(historyItem);
                });
                
                // Add event listeners to delete buttons
                document.querySelectorAll('.delete-btn[data-index]').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        deleteHistoryItem(index);
                    });
                });
            }
            
            // Delete history item
            function deleteHistoryItem(index) {
                if (!storageAvailable) return;
                
                const storedHistory = localStorage.getItem('proxyHistory');
                if (!storedHistory) return;
                
                let history = JSON.parse(storedHistory);
                history.splice(index, 1);
                
                localStorage.setItem('proxyHistory', JSON.stringify(history));
                displayHistory(history);
            }
            
            // Clear all history
            document.getElementById('clear-history').addEventListener('click', function() {
                if (!storageAvailable) return;
                
                if (confirm('Are you sure you want to clear all proxy history?')) {
                    localStorage.removeItem('proxyHistory');
                    displayHistory([]);
                }
            });
            
            // Load history on page load
            if (storageAvailable) {
                const storedHistory = localStorage.getItem('proxyHistory');
                if (storedHistory) {
                    displayHistory(JSON.parse(storedHistory));
                } else {
                    displayHistory([]);
                }
            } else {
                displayHistory([]);
            }
            
            // URL encoding and decoding
            document.getElementById('encode-url-btn').addEventListener('click', function() {
                const urlToEncode = document.getElementById('url-to-encode').value;
                const encoded = encodeURIComponent(urlToEncode);
                document.getElementById('encoded-result').textContent = encoded;
            });
            
            document.getElementById('decode-url-btn').addEventListener('click', function() {
                const urlToDecode = document.getElementById('url-to-encode').value;
                try {
                    const decoded = decodeURIComponent(urlToDecode);
                    document.getElementById('encoded-result').textContent = decoded;
                } catch (e) {
                    document.getElementById('encoded-result').textContent = 'Error decoding URL: ' + e.message;
                }
            });
            
            // Base64 encoding and decoding
            document.getElementById('encode-base64-btn').addEventListener('click', function() {
                const textToEncode = document.getElementById('base64-input').value;
                try {
                    const encoded = btoa(unescape(encodeURIComponent(textToEncode)));
                    document.getElementById('base64-result').textContent = encoded;
                } catch (e) {
                    document.getElementById('base64-result').textContent = 'Error encoding: ' + e.message;
                }
            });
            
            document.getElementById('decode-base64-btn').addEventListener('click', function() {
                const textToDecode = document.getElementById('base64-input').value;
                try {
                    const decoded = decodeURIComponent(escape(atob(textToDecode)));
                    document.getElementById('base64-result').textContent = decoded;
                } catch (e) {
                    document.getElementById('base64-result').textContent = 'Error decoding: ' + e.message;
                }
            });
            
            // Copy buttons
            document.getElementById('copy-encoded').addEventListener('click', function() {
                copyToClipboard(document.getElementById('encoded-result').textContent);
            });
            
            document.getElementById('copy-base64').addEventListener('click', function() {
                copyToClipboard(document.getElementById('base64-result').textContent);
            });
            
            document.getElementById('copy-shortened').addEventListener('click', function() {
                copyToClipboard(document.getElementById('shortened-result').textContent);
            });
            
            // Copy to clipboard function
            function copyToClipboard(text) {
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(text)
                        .then(() => {
                            alert('Copied to clipboard!');
                        })
                        .catch(err => {
                            console.error('Could not copy text: ', err);
                            fallbackCopyToClipboard(text);
                        });
                } else {
                    fallbackCopyToClipboard(text);
                }
            }
            
            // Fallback for browsers that don't support clipboard API
            function fallbackCopyToClipboard(text) {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                
                // Make the textarea out of viewport
                textArea.style.position = 'fixed';
                textArea.style.left = '-999999px';
                textArea.style.top = '-999999px';
                document.body.appendChild(textArea);
                
                textArea.focus();
                textArea.select();
                
                try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                        alert('Copied to clipboard!');
                    } else {
                        console.error('Failed to copy');
                    }
                } catch (err) {
                    console.error('Error copying text: ', err);
                }
                
                document.body.removeChild(textArea);
            }
            
            // Theme switcher
            const themeToggle = document.getElementById('theme-toggle');
            
            themeToggle.addEventListener('change', function() {
                if (this.checked) {
                    document.body.classList.add('dark-theme');
                    if (storageAvailable) {
                        localStorage.setItem('darkMode', 'enabled');
                    }
                } else {
                    document.body.classList.remove('dark-theme');
                    if (storageAvailable) {
                        localStorage.setItem('darkMode', 'disabled');
                    }
                }
            });
            
            // Load theme preference
            if (storageAvailable) {
                const darkMode = localStorage.getItem('darkMode');
                if (darkMode === 'enabled') {
                    themeToggle.checked = true;
                    document.body.classList.add('dark-theme');
                }
            }
            
            // URL Shortener functionality (simplified demo version)
            document.getElementById('shorten-url-btn').addEventListener('click', function() {
                const urlToShorten = document.getElementById('url-to-shorten').value;
                
                if (!urlToShorten) {
                    alert('Please enter a URL to shorten');
                    return;
                }
                
                // This is a mock function since we don't have a real API
                // In a real application, you'd call an API service
                mockShortenUrl(urlToShorten);
            });
            
            function mockShortenUrl(url) {
                // Simulate API delay
                document.getElementById('shortened-result').textContent = 'Shortening URL...';
                
                setTimeout(() => {
                    // Generate a mock shortened URL
                    const shortId = Math.random().toString(36).substring(2, 8);
                    const shortenedUrl = `https://short.url/${shortId}`;
function mockShortenUrl(url) {
    // Simulate API delay
    document.getElementById('shortened-result').textContent = 'Shortening URL...';
    
    setTimeout(() => {
        // Generate a mock shortened URL
        const shortId = Math.random().toString(36).substring(2, 8);
        const shortenedUrl = `https://short.url/${shortId}`;
        document.getElementById('shortened-result').textContent = shortenedUrl;
    }, 1000);
}

// Domain info functionality
document.getElementById('get-domain-info-btn').addEventListener('click', function() {
    const domain = document.getElementById('domain-info-input').value.trim();
    if (!domain) {
        alert('Please enter a domain name');
        return;
    }
    
    // Mock domain info retrieval
    document.getElementById('domain-info-result').textContent = 'Fetching domain information...';
    setTimeout(() => {
        const mockInfo = {
            domain: domain,
            registrar: 'Example Registrar, Inc.',
            created: '2010-05-15',
            expires: '2025-05-15',
            status: 'Active'
        };
        
        document.getElementById('domain-info-result').innerHTML = `
            <strong>Domain:</strong> ${mockInfo.domain}<br>
            <strong>Registrar:</strong> ${mockInfo.registrar}<br>
            <strong>Created:</strong> ${mockInfo.created}<br>
            <strong>Expires:</strong> ${mockInfo.expires}<br>
            <strong>Status:</strong> ${mockInfo.status}
        `;
    }, 1000);
});

// QR Code generator (mock functionality)
document.getElementById('generate-qr-btn').addEventListener('click', function() {
    const qrUrl = document.getElementById('qr-url').value.trim();
    if (!qrUrl) {
        alert('Please enter a URL for QR code generation');
        return;
    }
    
    // For a real implementation, you would use a library like qrcode.js
    document.getElementById('qr-container').style.display = 'block';
    document.getElementById('qr-code').innerHTML = `
        <div style="padding: 20px; border: 1px solid #ddd;">
            <p style="text-align: center;">Mock QR Code for:<br>${qrUrl}</p>
            <div style="width: 150px; height: 150px; margin: 0 auto; background-color: #f5f5f5; display: flex; align-items: center; justify-content: center;">
                <div style="font-size: 12px; text-align: center; padding: 10px;">QR Code would be generated here with an actual QR library</div>
            </div>
        </div>
    `;
});

// Batch processing functionality
document.getElementById('process-batch-btn').addEventListener('click', function() {
    const batchUrls = document.getElementById('batch-urls').value.trim().split('\n').filter(url => url.trim() !== '');
    
    if (batchUrls.length === 0) {
        alert('Please enter at least one URL for batch processing');
        return;
    }
    
    const batchType = document.getElementById('batch-proxy-select').value;
    const batchResults = document.getElementById('batch-results');
    batchResults.innerHTML = '<p>Processing URLs...</p>';
    
    setTimeout(() => {
        let resultsHtml = '<ul style="list-style-type: none; padding: 0;">';
        
        batchUrls.forEach(url => {
            // Add http:// if no protocol specified
            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                url = 'https://' + url;
            }
            
            let proxiedUrl = '';
            switch (batchType) {
                case 'web':
                    proxiedUrl = 'https://www.proxysite.com/process.php?d=' + encodeURIComponent(url);
                    break;
                case 'archive':
                    proxiedUrl = 'https://web.archive.org/web/' + encodeURIComponent(url);
                    break;
                case 'translate':
                    proxiedUrl = 'https://translate.google.com/translate?sl=auto&tl=en&u=' + encodeURIComponent(url);
                    break;
                case 'specialized':
                    proxiedUrl = 'https://www.printfriendly.com/print?url=' + encodeURIComponent(url);
                    break;
            }
            
            resultsHtml += `<li style="margin-bottom: 10px;"><a href="${proxiedUrl}" target="_blank">${url}</a> → <a href="${proxiedUrl}" target="_blank">Proxied Link</a></li>`;
        });
        
        resultsHtml += '</ul>';
        batchResults.innerHTML = resultsHtml;
    }, 1500);
});

// Export batch results
document.getElementById('export-batch-results').addEventListener('click', function() {
    const content = document.getElementById('batch-results').innerText;
    const blob = new Blob([content], { type: 'text/csv' });
    const url = URL.createObjectURL(blob);
    
    const a = document.createElement('a');
    a.href = url;
    a.download = 'batch-proxy-results.csv';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
});

// Save preset functionality
document.getElementById('save-preset-btn').addEventListener('click', function() {
    const presetName = document.getElementById('preset-name').value.trim();
    
    if (!presetName) {
        alert('Please enter a name for your preset');
        return;
    }
    
    // Get current settings
    const activeTab = document.querySelector('.tab.active').getAttribute('data-tab');
    let presetData = {
        name: presetName,
        type: activeTab,
        settings: {}
    };
    
    // Different settings based on active tab
    switch (activeTab) {
        case 'web-proxies':
            presetData.settings.proxyUrl = document.getElementById('web-proxy-select').value;
            presetData.settings.removeCookies = document.getElementById('remove-cookies').checked;
            presetData.settings.removeScripts = document.getElementById('remove-scripts').checked;
            // Add other settings as needed
            break;
        case 'archive-proxies':
            presetData.settings.archiveService = document.getElementById('archive-proxy-select').value;
            presetData.settings.timestamp = document.getElementById('archive-timestamp').value;
            break;
        // Handle other tabs similarly
    }
    
    // Save preset to localStorage
    if (storageAvailable) {
        let presets = [];
        const storedPresets = localStorage.getItem('proxyPresets');
        if (storedPresets) {
            presets = JSON.parse(storedPresets);
        }
        
        presets.push(presetData);
        localStorage.setItem('proxyPresets', JSON.stringify(presets));
        
        // Update presets display
        updatePresetsList(presets);
        
        alert('Preset saved successfully!');
        document.getElementById('preset-name').value = '';
    }
});

// Update presets list in UI
function updatePresetsList(presets) {
    const presetList = document.getElementById('preset-list');
    presetList.innerHTML = '';
    
    if (!presets || presets.length === 0) {
        presetList.innerHTML = '<p>No presets saved yet.</p>';
        return;
    }
    
    presets.forEach((preset, index) => {
        const presetTag = document.createElement('div');
        presetTag.className = 'preset-tag';
        presetTag.innerHTML = `${preset.name}<span class="preset-delete" data-index="${index}">×</span>`;
        
        presetTag.addEventListener('click', function(e) {
            if (!e.target.classList.contains('preset-delete')) {
                loadPreset(preset);
            }
        });
        
        presetList.appendChild(presetTag);
    });
    
    // Add event listeners for delete buttons
    document.querySelectorAll('.preset-delete[data-index]').forEach(btn => {
        btn.addEventListener('click', function(e) {
            e.stopPropagation();
            const index = parseInt(this.getAttribute('data-index'));
            deletePreset(index);
        });
    });
}

// Load preset
function loadPreset(preset) {
    // Switch to correct tab
    document.querySelector(`.tab[data-tab="${preset.type}"]`).click();
    
    // Apply settings based on preset type
    switch (preset.type) {
        case 'web-proxies':
            document.getElementById('web-proxy-select').value = preset.settings.proxyUrl;
            document.getElementById('remove-cookies').checked = preset.settings.removeCookies;
            document.getElementById('remove-scripts').checked = preset.settings.removeScripts;
            // Apply other settings
            break;
        case 'archive-proxies':
            document.getElementById('archive-proxy-select').value = preset.settings.archiveService;
            document.getElementById('archive-timestamp').value = preset.settings.timestamp;
            break;
        // Handle other tabs similarly
    }
    
    alert(`Preset "${preset.name}" has been loaded.`);
}

// Delete preset
function deletePreset(index) {
    if (!storageAvailable) return;
    
    if (confirm('Are you sure you want to delete this preset?')) {
        const storedPresets = localStorage.getItem('proxyPresets');
        if (!storedPresets) return;
        
        let presets = JSON.parse(storedPresets);
        presets.splice(index, 1);
        
        localStorage.setItem('proxyPresets', JSON.stringify(presets));
        updatePresetsList(presets);
    }
}

// Load presets on page load
if (storageAvailable) {
    const storedPresets = localStorage.getItem('proxyPresets');
    if (storedPresets) {
        updatePresetsList(JSON.parse(storedPresets));
    }
}

// Update anonymity meter when options change
const anonymityOptions = document.querySelectorAll('#web-proxy-options input[type="checkbox"]');
anonymityOptions.forEach(option => {
    option.addEventListener('change', updateAnonymityMeter);
});

function updateAnonymityMeter() {
    // Calculate "anonymity score" based on selected options
    let score = 0;
    if (document.getElementById('remove-cookies').checked) score += 20;
    if (document.getElementById('remove-scripts').checked) score += 25;
    if (document.getElementById('encrypt-url').checked) score += 15;
    if (document.getElementById('use-https').checked) score += 15;
    if (document.getElementById('hide-referer').checked) score += 25;
    
    // Update the visual meter
    const anonymityLevel = document.querySelector('.anonymity-level');
    anonymityLevel.style.width = `${score}%`;
    
    // Update the label
    const anonymityLabel = document.querySelector('.anonymity-label');
    if (score < 40) {
        anonymityLabel.textContent = 'Low';
    } else if (score < 70) {
        anonymityLabel.textContent = 'Medium';
    } else {
        anonymityLabel.textContent = 'High';
    }
}

// Initialize the anonymity meter
updateAnonymityMeter();

// Export history functionality
document.getElementById('export-history').addEventListener('click', function() {
    if (!storageAvailable) return;
    
    const storedHistory = localStorage.getItem('proxyHistory');
    if (!storedHistory) {
        alert('No history to export.');
        return;
    }
    
    const history = JSON.parse(storedHistory);
    let csvContent = "Original URL,Proxied URL,Type,Timestamp\n";
    
    history.forEach(item => {
        csvContent += `"${item.original}","${item.proxied}","${item.type}","${item.timestamp}"\n`;
    });
    
    const blob = new Blob([csvContent], { type: 'text/csv' });
    const url = URL.createObjectURL(blob);
    
    const a = document.createElement('a');
    a.href = url;
    a.download = 'proxy-history.csv';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
});

// Download QR code 
document.getElementById('download-qr').addEventListener('click', function() {
    alert('In a real implementation, this would download the QR code as an image file.');
});

});
</script>
</body>
</html>
